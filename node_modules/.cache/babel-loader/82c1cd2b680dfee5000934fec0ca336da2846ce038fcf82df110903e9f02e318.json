{"ast":null,"code":"var _jsxFileName = \"/Users/bhagyashrichavan/Documents/Fetch-Assesment/fetch-assesment/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { TextField, Button, Box, Typography, CircularProgress } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  console.log('Login component rendered');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const {\n    setUser\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Input validation\n  const validateInputs = () => {\n    if (!name || !email) {\n      setError('Both name and email are required.');\n      return false;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setError('Invalid email format.');\n      return false;\n    }\n    setError('');\n    return true;\n  };\n\n  // Handle login\n  const handleLogin = async () => {\n    if (!validateInputs()) return;\n    setLoading(true);\n    try {\n      await axios.post('https://frontend-take-home-service.fetch.com/auth/login', {\n        name,\n        email\n      }, {\n        withCredentials: true\n      });\n      setUser({\n        name,\n        email\n      });\n      navigate('/search');\n    } catch (error) {\n      console.error('Login failed:', error);\n      setError('Login failed. Please check your credentials and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      maxWidth: '400px',\n      margin: '50px auto',\n      padding: '20px',\n      textAlign: 'center',\n      backgroundColor: '#f9f9f9',\n      borderRadius: '10px',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n      transition: 'transform 0.3s ease-in-out',\n      '&:hover': {\n        transform: 'scale(1.02)'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      sx: {\n        marginBottom: '20px',\n        color: '#333'\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      sx: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      label: \"Name\",\n      variant: \"outlined\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      sx: {\n        marginBottom: '15px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      label: \"Email\",\n      variant: \"outlined\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      sx: {\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      fullWidth: true,\n      onClick: handleLogin,\n      disabled: loading,\n      sx: {\n        fontWeight: 'bold',\n        padding: '10px',\n        transition: 'background-color 0.3s ease',\n        '&:hover': {\n          backgroundColor: loading ? '#ccc' : '#0056b3'\n        }\n      },\n      children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24,\n        sx: {\n          color: '#fff'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 28\n      }, this) : 'Login'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Y57bOZJ8kFNYrffP/+Ug1bGUQJY=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","axios","useAuth","TextField","Button","Box","Typography","CircularProgress","jsxDEV","_jsxDEV","Login","_s","console","log","name","setName","email","setEmail","loading","setLoading","error","setError","setUser","navigate","validateInputs","emailRegex","test","handleLogin","post","withCredentials","sx","maxWidth","margin","padding","textAlign","backgroundColor","borderRadius","boxShadow","transition","transform","children","variant","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","label","value","onChange","e","target","onClick","disabled","fontWeight","size","_c","$RefreshReg$"],"sources":["/Users/bhagyashrichavan/Documents/Fetch-Assesment/fetch-assesment/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { TextField, Button, Box, Typography, CircularProgress } from '@mui/material';\n\nconst Login = () => {\n    console.log('Login component rendered');\n\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const { setUser } = useAuth();\n    const navigate = useNavigate();\n\n    // Input validation\n    const validateInputs = () => {\n        if (!name || !email) {\n            setError('Both name and email are required.');\n            return false;\n        }\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(email)) {\n            setError('Invalid email format.');\n            return false;\n        }\n        setError('');\n        return true;\n    };\n\n    // Handle login\n    const handleLogin = async () => {\n        if (!validateInputs()) return;\n\n        setLoading(true);\n        try {\n            await axios.post(\n                'https://frontend-take-home-service.fetch.com/auth/login',\n                { name, email },\n                { withCredentials: true }\n            );\n            setUser({ name, email });\n            navigate('/search');\n        } catch (error) {\n            console.error('Login failed:', error);\n            setError('Login failed. Please check your credentials and try again.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Box\n            sx={{\n                maxWidth: '400px',\n                margin: '50px auto',\n                padding: '20px',\n                textAlign: 'center',\n                backgroundColor: '#f9f9f9',\n                borderRadius: '10px',\n                boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n                transition: 'transform 0.3s ease-in-out',\n                '&:hover': {\n                    transform: 'scale(1.02)',\n                },\n            }}\n        >\n            <Typography variant=\"h4\" sx={{ marginBottom: '20px', color: '#333' }}>\n                Login\n            </Typography>\n            {error && (\n                <Typography variant=\"body2\" sx={{ color: 'red', marginBottom: '10px' }}>\n                    {error}\n                </Typography>\n            )}\n            <TextField\n                fullWidth\n                label=\"Name\"\n                variant=\"outlined\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                sx={{ marginBottom: '15px' }}\n            />\n            <TextField\n                fullWidth\n                label=\"Email\"\n                variant=\"outlined\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                sx={{ marginBottom: '20px' }}\n            />\n            <Button\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth\n                onClick={handleLogin}\n                disabled={loading}\n                sx={{\n                    fontWeight: 'bold',\n                    padding: '10px',\n                    transition: 'background-color 0.3s ease',\n                    '&:hover': {\n                        backgroundColor: loading ? '#ccc' : '#0056b3',\n                    },\n                }}\n            >\n                {loading ? <CircularProgress size={24} sx={{ color: '#fff' }} /> : 'Login'}\n            </Button>\n        </Box>\n    );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,SAAS,EAAEC,MAAM,EAAEC,GAAG,EAAEC,UAAU,EAAEC,gBAAgB,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErF,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChBC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EAEvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAEuB;EAAQ,CAAC,GAAGpB,OAAO,CAAC,CAAC;EAC7B,MAAMqB,QAAQ,GAAGvB,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMwB,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACV,IAAI,IAAI,CAACE,KAAK,EAAE;MACjBK,QAAQ,CAAC,mCAAmC,CAAC;MAC7C,OAAO,KAAK;IAChB;IACA,MAAMI,UAAU,GAAG,4BAA4B;IAC/C,IAAI,CAACA,UAAU,CAACC,IAAI,CAACV,KAAK,CAAC,EAAE;MACzBK,QAAQ,CAAC,uBAAuB,CAAC;MACjC,OAAO,KAAK;IAChB;IACAA,QAAQ,CAAC,EAAE,CAAC;IACZ,OAAO,IAAI;EACf,CAAC;;EAED;EACA,MAAMM,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI,CAACH,cAAc,CAAC,CAAC,EAAE;IAEvBL,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAMlB,KAAK,CAAC2B,IAAI,CACZ,yDAAyD,EACzD;QAAEd,IAAI;QAAEE;MAAM,CAAC,EACf;QAAEa,eAAe,EAAE;MAAK,CAC5B,CAAC;MACDP,OAAO,CAAC;QAAER,IAAI;QAAEE;MAAM,CAAC,CAAC;MACxBO,QAAQ,CAAC,SAAS,CAAC;IACvB,CAAC,CAAC,OAAOH,KAAK,EAAE;MACZR,OAAO,CAACQ,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCC,QAAQ,CAAC,4DAA4D,CAAC;IAC1E,CAAC,SAAS;MACNF,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,oBACIV,OAAA,CAACJ,GAAG;IACAyB,EAAE,EAAE;MACAC,QAAQ,EAAE,OAAO;MACjBC,MAAM,EAAE,WAAW;MACnBC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE,QAAQ;MACnBC,eAAe,EAAE,SAAS;MAC1BC,YAAY,EAAE,MAAM;MACpBC,SAAS,EAAE,8BAA8B;MACzCC,UAAU,EAAE,4BAA4B;MACxC,SAAS,EAAE;QACPC,SAAS,EAAE;MACf;IACJ,CAAE;IAAAC,QAAA,gBAEF/B,OAAA,CAACH,UAAU;MAACmC,OAAO,EAAC,IAAI;MAACX,EAAE,EAAE;QAAEY,YAAY,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAH,QAAA,EAAC;IAEtE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EACZ3B,KAAK,iBACFX,OAAA,CAACH,UAAU;MAACmC,OAAO,EAAC,OAAO;MAACX,EAAE,EAAE;QAAEa,KAAK,EAAE,KAAK;QAAED,YAAY,EAAE;MAAO,CAAE;MAAAF,QAAA,EAClEpB;IAAK;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACf,eACDtC,OAAA,CAACN,SAAS;MACN6C,SAAS;MACTC,KAAK,EAAC,MAAM;MACZR,OAAO,EAAC,UAAU;MAClBS,KAAK,EAAEpC,IAAK;MACZqC,QAAQ,EAAGC,CAAC,IAAKrC,OAAO,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACzCpB,EAAE,EAAE;QAAEY,YAAY,EAAE;MAAO;IAAE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,eACFtC,OAAA,CAACN,SAAS;MACN6C,SAAS;MACTC,KAAK,EAAC,OAAO;MACbR,OAAO,EAAC,UAAU;MAClBS,KAAK,EAAElC,KAAM;MACbmC,QAAQ,EAAGC,CAAC,IAAKnC,QAAQ,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC1CpB,EAAE,EAAE;QAAEY,YAAY,EAAE;MAAO;IAAE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,eACFtC,OAAA,CAACL,MAAM;MACHqC,OAAO,EAAC,WAAW;MACnBE,KAAK,EAAC,SAAS;MACfK,SAAS;MACTM,OAAO,EAAE3B,WAAY;MACrB4B,QAAQ,EAAErC,OAAQ;MAClBY,EAAE,EAAE;QACA0B,UAAU,EAAE,MAAM;QAClBvB,OAAO,EAAE,MAAM;QACfK,UAAU,EAAE,4BAA4B;QACxC,SAAS,EAAE;UACPH,eAAe,EAAEjB,OAAO,GAAG,MAAM,GAAG;QACxC;MACJ,CAAE;MAAAsB,QAAA,EAEDtB,OAAO,gBAAGT,OAAA,CAACF,gBAAgB;QAACkD,IAAI,EAAE,EAAG;QAAC3B,EAAE,EAAE;UAAEa,KAAK,EAAE;QAAO;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,GAAG;IAAO;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEd,CAAC;AAACpC,EAAA,CAzGID,KAAK;EAAA,QAOaR,OAAO,EACVF,WAAW;AAAA;AAAA0D,EAAA,GAR1BhD,KAAK;AA2GX,eAAeA,KAAK;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}